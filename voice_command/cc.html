<!DOCTYPE html>
<html>
<link rel="stylesheet" href="./cc.css">

<head>
  <meta charset="utf-8">
  <title>Test</title>
</head>

<body>

  <div id="container">

    <div id="test_console">
      <div class="test_button">
        Add img card
        <input id="img_card_input" />
        <br/>
        <button id="add_img_card" class="console_btn">
          Add
        </button>
      </div>

    </div>

    <div id="inner">

      <!-- img_card -->
      <div class="card gravity img_card">
        <img src="./img/cat.jpg" />
      </div>
      <!-- end of img card -->

      <!-- music card -->
      <div class="card gravity music_card">
        <!-- maybe put a play button here-->
        <img />
      </div>
      <!-- end of music card -->

      <div class="card gravity img_card">
        <img src="https://pbs.twimg.com/profile_images/616309728688238592/pBeeJQDQ.png" />
      </div>

    </div>

    <img src="./img/cat.jpg" id="wild_img" class="hidden">

  </div>

  <!-- <script src="http://code.jquery.com/jquery-1.12.0.js"></script> -->
  <!-- <script src="//cdnjs.cloudflare.com/ajax/libs/annyang/2.3.0/annyang.min.js"></script> -->
  <script src="./js/jquery-1.12.0.js"></script>
  <script src="./js/drag.js"></script>
  <script src="./js/jGravity.js"></script>
  <script src="./js/jquery-ui.js"></script>
  <script src="./js/isotope.pkgd.min.js"></script>
  <script src="./js/annyang.js"></script>
  <script src="./key-press.js"></script>
  <script src="./helper.js"></script>

  <script>
    if (annyang) {
      // Let's define a command.
      var commands = {
        'hello': function() {
          alert('Hello world!');
        },
        'show me *tag': showImages,
        'falling down': fall,
        'restore': restore,
        'Avada Kedavra': nono,
        'test': function() {
          alert('Test!');
        },
      };

      // Add our commands to annyang
      annyang.addCommands(commands);

      // Start listening.
      annyang.start();
    }


    function nono() {
      alert('Nono, bad! bad !');
    }

    function restore() {
      console.log('restored');

      $("#inner").sortable('enable');
      $("#inner").css({
        'top': '50px',
        'left': '0px',
        'width': '350px',
        'height': '500px'
      });
      runs = "stop";
      $('#bar').show(300);
      $(".steady").animate({
        left: '360px'
      }, 300);


      $('#inner').isotope({
        filter: '.gravity'
      });
    }


    function showImages(ss) {
      // alert(ss)
      console.log(ss);

      if (ss.indexOf('cat') != 0) {
        $('#wild_img').animate({
          bottom: '-20px'
        });
      } else {
        alert('show me ' + ss);
      }
    }

    function fall() {
      console.log('fall');
      $("#inner").sortable('disable');
      $("#inner").css({
        'top': '0px',
        'left': '0px',
        'width': 'initial',
        'height': 'initial'
      });
      runs = "start";
      $('#inner').jGravity({
        target: 'div.gravity',
        ignoreClass: 'div.steady',
        weight: 10,
        depth: 5,
        drag: true
      });
      $(this).hide(300);
      $(".steady").animate({
        left: '0px'
      }, 300);
    }
  </script>

  <script type="text/javascript">
    $(function() {
      function fall() {
        console.log('fall');
        $("#inner").sortable('disable');
        $("#inner").css({
          'top': '0px',
          'left': '0px',
          'width': 'initial',
          'height': 'initial'
        });
        runs = "start";
        $('#inner').jGravity({
          target: 'div.gravity',
          ignoreClass: 'div.steady',
          weight: 10,
          depth: 5,
          drag: true
        });
        $(this).hide(300);
        $(".steady").animate({
          left: '0px'
        }, 300);
      }
    });
  </script>

</body>

</html>
